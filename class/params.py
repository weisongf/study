#! /usr/bin/env python
# -*- coding: utf-8 -*-

class Params:
    def __init__(self,body):
        self.body = body

    def get_environ_id(self):

        return self.body.get("environ")["environid"]
    def get_environ_nodes(self):

        return self.body.get("environ")["nodes"]


dic4 ={u'environ': {u'openstack_version': u'Mitaka', u'additional': False, u'haenabled': False, u'environname': u'\u6d6a\u6f6e1', u'bondmode': u'-1', u'nettype': u'vxlan', u'nodes': [{u'uuid': u'4d40f46d-3d3d-4b1d-9868-b757ba9a1d06', u'component': u'ceph-mon,ceph-osd', u'hostname': u'ceph1', u'userid': u'zhangshuyi@inspur.com', u'nicbond': [{u'netflag': u'business', u'bondname': u'bondbusiness', u'nic2': u'', u'ip': u'', u'nic1': u'ens161', u'vlanid': u'2559', u'netmask': u'', u'gateway': u'172.23.4.254'}, {u'netflag': u'admin', u'bondname': u'bondadmin', u'nic2': u'', u'ip': u'172.23.4.41', u'nic1': u'ens192', u'vlanid': u'2504', u'netmask': u'255.255.255.0', u'gateway': u'172.23.4.254'}, {u'netflag': u'internaladmin', u'bondname': u'bondinternal', u'nic2': u'', u'ip': u'172.23.30.41', u'nic1': u'ens224', u'vlanid': u'2530', u'netmask': u'255.255.255.0', u'gateway': u''}, {u'netflag': u'storage', u'bondname': u'bondstorage', u'nic2': u'', u'ip': u'172.23.47.41', u'nic1': u'ens256', u'vlanid': u'2547', u'netmask': u'255.255.255.0', u'gateway': u''}], u'ntp_server_ip': u'172.23.4.111', u'serialnum': u'VMware-42 2f 27 24 c6 74 6b 6c-d0 2d d0 9a 6c 34 d3 e3', u'managevip': u'', u'serverid': u'4d40f46d-3d3d-4b1d-9868-b757ba9a1d06', u'intervip': u'', u'type': u'storage', u'deployed': False, u'ctime': u'2018-01-04 19:33:59'}, {u'uuid': u'c52c8930-2c1b-441e-91b7-eeab93512eb6', u'component': u'ceph-mon,ceph-osd', u'hostname': u'ceph2', u'userid': u'zhangshuyi@inspur.com', u'nicbond': [{u'netflag': u'business', u'bondname': u'bondbusiness', u'nic2': u'', u'ip': u'', u'nic1': u'ens161', u'vlanid': u'2559', u'netmask': u'', u'gateway': u'172.23.4.254'}, {u'netflag': u'admin', u'bondname': u'bondadmin', u'nic2': u'', u'ip': u'172.23.4.42', u'nic1': u'ens192', u'vlanid': u'2504', u'netmask': u'255.255.255.0', u'gateway': u'172.23.4.254'}, {u'netflag': u'internaladmin', u'bondname': u'bondinternal', u'nic2': u'', u'ip': u'172.23.30.42', u'nic1': u'ens224', u'vlanid': u'2530', u'netmask': u'255.255.255.0', u'gateway': u''}, {u'netflag': u'storage', u'bondname': u'bondstorage', u'nic2': u'', u'ip': u'172.23.47.42', u'nic1': u'ens256', u'vlanid': u'2547', u'netmask': u'255.255.255.0', u'gateway': u''}], u'ntp_server_ip': u'172.23.4.111', u'serialnum': u'VMware-42 2f 00 4a 58 92 70 93-4f 0c f7 45 43 ea 61 39', u'managevip': u'', u'serverid': u'c52c8930-2c1b-441e-91b7-eeab93512eb6', u'intervip': u'', u'type': u'storage', u'deployed': False, u'ctime': u'2018-01-04 19:33:59'}, {u'uuid': u'fb644b22-f111-4413-a386-7aeaea80b3cb', u'component': u'ceph-mon,ceph-osd', u'hostname': u'ceph3', u'userid': u'zhangshuyi@inspur.com', u'nicbond': [{u'netflag': u'business', u'bondname': u'bondbusiness', u'nic2': u'', u'ip': u'', u'nic1': u'ens161', u'vlanid': u'2559', u'netmask': u'', u'gateway': u'172.23.4.254'}, {u'netflag': u'admin', u'bondname': u'bondadmin', u'nic2': u'', u'ip': u'172.23.4.43', u'nic1': u'ens192', u'vlanid': u'2504', u'netmask': u'255.255.255.0', u'gateway': u'172.23.4.254'}, {u'netflag': u'internaladmin', u'bondname': u'bondinternal', u'nic2': u'', u'ip': u'172.23.30.43', u'nic1': u'ens224', u'vlanid': u'2530', u'netmask': u'255.255.255.0', u'gateway': u''}, {u'netflag': u'storage', u'bondname': u'bondstorage', u'nic2': u'', u'ip': u'172.23.47.43', u'nic1': u'ens256', u'vlanid': u'2547', u'netmask': u'255.255.255.0', u'gateway': u''}], u'ntp_server_ip': u'172.23.4.111', u'serialnum': u'VMware-42 2f 38 93 f6 d2 a3 57-b8 ec 4a b8 9d e8 91 f7', u'managevip': u'', u'serverid': u'fb644b22-f111-4413-a386-7aeaea80b3cb', u'intervip': u'', u'type': u'storage', u'deployed': False, u'ctime': u'2018-01-04 19:33:59'}, {u'uuid': u'67b45776-75b5-4440-be24-138274a10ef3', u'component': u'db,rabbitmq,keystone,glance-api,glance-registry,nova-api,nova-conductor,nova-consoleauth,nova-novncproxy,nova-scheduler,neutron-server,cinder-api,cinder-scheduler,cinder-volume', u'hostname': u'controller', u'userid': u'zhangshuyi@inspur.com', u'nicbond': [{u'netflag': u'business', u'bondname': u'bondbusiness', u'nic2': u'', u'ip': u'', u'nic1': u'ens161', u'vlanid': u'2559', u'netmask': u'', u'gateway': u'172.23.4.254'}, {u'netflag': u'admin', u'bondname': u'bondadmin', u'nic2': u'', u'ip': u'172.23.4.44', u'nic1': u'ens192', u'vlanid': u'2504', u'netmask': u'255.255.255.0', u'gateway': u'172.23.4.254'}, {u'netflag': u'internaladmin', u'bondname': u'bondinternal', u'nic2': u'', u'ip': u'172.23.30.44', u'nic1': u'ens224', u'vlanid': u'2530', u'netmask': u'255.255.255.0', u'gateway': u''}, {u'netflag': u'storage', u'bondname': u'bondstorage', u'nic2': u'', u'ip': u'172.23.47.44', u'nic1': u'ens256', u'vlanid': u'2547', u'netmask': u'255.255.255.0', u'gateway': u''}], u'ntp_server_ip': u'172.23.4.111', u'serialnum': u'VMware-42 2f ca 3b a8 8e b9 1e-55 00 99 19 05 a8 54 04', u'managevip': u'', u'serverid': u'67b45776-75b5-4440-be24-138274a10ef3', u'intervip': u'', u'type': u'controller', u'deployed': False, u'ctime': u'2018-01-04 19:33:59'}, {u'uuid': u'83f2facf-e252-4bf5-b9f9-5bb5748c2eb1', u'component': u'nova-compute,neutron-openvswitch-agent,neutron-metadata-agent,neutron-dhcp-agent,neutron-l3-agent,', u'hostname': u'network1', u'userid': u'zhangshuyi@inspur.com', u'nicbond': [{u'netflag': u'business', u'bondname': u'bondbusiness', u'nic2': u'', u'ip': u'', u'nic1': u'ens161', u'vlanid': u'2559', u'netmask': u'', u'gateway': u'172.23.4.254'}, {u'netflag': u'admin', u'bondname': u'bondadmin', u'nic2': u'', u'ip': u'172.23.4.45', u'nic1': u'ens192', u'vlanid': u'2504', u'netmask': u'255.255.255.0', u'gateway': u'172.23.4.254'}, {u'netflag': u'internaladmin', u'bondname': u'bondinternal', u'nic2': u'', u'ip': u'172.23.30.45', u'nic1': u'ens224', u'vlanid': u'2530', u'netmask': u'255.255.255.0', u'gateway': u''}, {u'netflag': u'storage', u'bondname': u'bondstorage', u'nic2': u'', u'ip': u'172.23.47.45', u'nic1': u'ens256', u'vlanid': u'2547', u'netmask': u'255.255.255.0', u'gateway': u''}], u'ntp_server_ip': u'172.23.4.111', u'serialnum': u'VMware-42 2f 35 90 91 a1 32 1a-cb aa 7f f2 e1 c9 f7 e9', u'managevip': u'', u'serverid': u'83f2facf-e252-4bf5-b9f9-5bb5748c2eb1', u'intervip': u'', u'type': u'compute,network', u'deployed': False, u'ctime': u'2018-01-04 19:33:59'}, {u'uuid': u'840c5fe8-dee0-4104-9d98-eb8842d3cd21', u'component': u'nova-compute,neutron-openvswitch-agent,neutron-metadata-agent,neutron-dhcp-agent,neutron-l3-agent,', u'hostname': u'network2', u'userid': u'zhangshuyi@inspur.com', u'nicbond': [{u'netflag': u'business', u'bondname': u'bondbusiness', u'nic2': u'', u'ip': u'', u'nic1': u'ens161', u'vlanid': u'2559', u'netmask': u'', u'gateway': u'172.23.4.254'}, {u'netflag': u'admin', u'bondname': u'bondadmin', u'nic2': u'', u'ip': u'172.23.4.46', u'nic1': u'ens192', u'vlanid': u'2504', u'netmask': u'255.255.255.0', u'gateway': u'172.23.4.254'}, {u'netflag': u'internaladmin', u'bondname': u'bondinternal', u'nic2': u'', u'ip': u'172.23.30.46', u'nic1': u'ens224', u'vlanid': u'2530', u'netmask': u'255.255.255.0', u'gateway': u''}, {u'netflag': u'storage', u'bondname': u'bondstorage', u'nic2': u'', u'ip': u'172.23.47.46', u'nic1': u'ens256', u'vlanid': u'2547', u'netmask': u'255.255.255.0', u'gateway': u''}], u'ntp_server_ip': u'172.23.4.111', u'serialnum': u'VMware-42 2f 82 c8 bd 61 97 8a-48 d4 8b 02 27 54 29 33', u'managevip': u'', u'serverid': u'840c5fe8-dee0-4104-9d98-eb8842d3cd21', u'intervip': u'', u'type': u'compute,network', u'deployed': False, u'ctime': u'2018-01-04 19:33:59'}, {u'uuid': u'a512bbb8-3cf1-4636-a5ac-13924732311a', u'component': u'nova-compute,neutron-openvswitch-agent', u'hostname': u'compute1', u'userid': u'zhangshuyi@inspur.com', u'nicbond': [{u'netflag': u'business', u'bondname': u'bondbusiness', u'nic2': u'', u'ip': u'', u'nic1': u'ens161', u'vlanid': u'2559', u'netmask': u'', u'gateway': u'172.23.4.254'}, {u'netflag': u'admin', u'bondname': u'bondadmin', u'nic2': u'', u'ip': u'172.23.4.47', u'nic1': u'ens192', u'vlanid': u'2504', u'netmask': u'255.255.255.0', u'gateway': u'172.23.4.254'}, {u'netflag': u'internaladmin', u'bondname': u'bondinternal', u'nic2': u'', u'ip': u'172.23.30.47', u'nic1': u'ens224', u'vlanid': u'2530', u'netmask': u'255.255.255.0', u'gateway': u''}, {u'netflag': u'storage', u'bondname': u'bondstorage', u'nic2': u'', u'ip': u'172.23.47.47', u'nic1': u'ens256', u'vlanid': u'2547', u'netmask': u'255.255.255.0', u'gateway': u''}], u'ntp_server_ip': u'172.23.4.111', u'serialnum': u'VMware-42 2f 09 91 46 ee ec af-c2 6f 15 a0 ca 44 1f eb', u'managevip': u'', u'serverid': u'a512bbb8-3cf1-4636-a5ac-13924732311a', u'intervip': u'', u'type': u'compute', u'deployed': False, u'ctime': u'2018-01-04 19:33:59'}, {u'uuid': u'ab671ac2-7777-4113-8bd0-9ff60d833b38', u'component': u'nova-compute,neutron-openvswitch-agent', u'hostname': u'compute2', u'userid': u'zhangshuyi@inspur.com', u'nicbond': [{u'netflag': u'business', u'bondname': u'bondbusiness', u'nic2': u'', u'ip': u'', u'nic1': u'ens161', u'vlanid': u'2559', u'netmask': u'', u'gateway': u'172.23.4.254'}, {u'netflag': u'admin', u'bondname': u'bondadmin', u'nic2': u'', u'ip': u'172.23.4.48', u'nic1': u'ens192', u'vlanid': u'2504', u'netmask': u'255.255.255.0', u'gateway': u'172.23.4.254'}, {u'netflag': u'internaladmin', u'bondname': u'bondinternal', u'nic2': u'', u'ip': u'172.23.30.48', u'nic1': u'ens224', u'vlanid': u'2530', u'netmask': u'255.255.255.0', u'gateway': u''}, {u'netflag': u'storage', u'bondname': u'bondstorage', u'nic2': u'', u'ip': u'172.23.47.48', u'nic1': u'ens256', u'vlanid': u'2547', u'netmask': u'255.255.255.0', u'gateway': u''}], u'ntp_server_ip': u'172.23.4.111', u'serialnum': u'VMware-42 2f 49 95 a3 8f cf ec-69 ea f8 71 02 11 0a 1f', u'managevip': u'', u'serverid': u'ab671ac2-7777-4113-8bd0-9ff60d833b38', u'intervip': u'', u'type': u'compute', u'deployed': False, u'ctime': u'2018-01-04 19:33:59'}], u'netmode': u'self', u'environid': u'82', u'bondenabled': False}}

instance01 = Params(dic4)

#print(instance01.body)
#print(instance01.get_environ_id())

nodes = instance01.get_environ_nodes()
for node in nodes:
    print node.get('component')
#print(instance01.get_environ_nodes())




